webpackJsonp([0],{VQyu:function(t,s){},"v/+M":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("mvHQ"),a=e.n(i),c={data:function(){return{status2:0,xx:!1,desc:"",chosen:{},popupVisible:!1,systemList:[]}},mounted:function(){var t=this;this.$AV.Query.doCloudQuery("select * from t_system").then(function(s){var e=JSON.parse(a()(s.results));console.log(e),t.systemList=e,console.log(t.systemList.length)},function(t){})},methods:{toDo:function(t){this.chosen=t,1==this.chosen.server_status?this.xx=!0:this.xx=!1,this.popupVisible=!0,this.chosen=t,console.log(t)},hidden:function(){this.popupVisible=!1},submit1:function(){if(0==this.xx?this.status2=0:this.status2=1,this.status2==this.chosen.server_status)return alert("服务器状态未变化"),!1;if(!this.desc)return alert("操作描述不能为空"),!1;var t="update t_system set server_status = ? ,ext1 = ? where objectId = ?",s=[this.status2,this.desc,this.chosen.objectId];this.$AV.Query.doCloudQuery(t,s).then(function(t){},function(t){});t="INSERT INTO t_log (server_name, operation,user_name,tips) VALUES (?, ?,?,?)",s=[this.chosen.server_name,this.status2+"","admin",this.desc];this.$AV.Query.doCloudQuery(t,s).then(function(t){window.location.reload()},function(t){})}}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"page mpc1"},[t._m(0),t._v(" "),t._l(t.systemList,function(s,a){return i("div",{key:s.ID,staticClass:"parentWrap"},[i("div",{staticClass:"parent",staticStyle:{"background-color":"lightgrey"}},[i("div",{staticClass:"child2",staticStyle:{width:"15%"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:0==s.server_status,expression:"item.server_status == 0"}],staticClass:"imgx",attrs:{src:e("3xxH")}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:1==s.server_status,expression:"item.server_status == 1"}],staticClass:"imgx",attrs:{src:e("mzrL")}})]),t._v(" "),i("div",{staticClass:"child2",staticStyle:{width:"35%"}},[t._v(t._s(s.server_name))]),t._v(" "),t._m(1,!0),t._v(" "),i("div",{staticClass:"child2",staticStyle:{width:"20%"}},[t._v(t._s(s.server_owner))]),t._v(" "),i("div",{staticClass:"child2",staticStyle:{width:"15%"}},[i("mt-button",{staticStyle:{height:"25px","font-size":"12px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.toDo(s)}}},[t._v("修改")])],1)])])}),t._v(" "),i("mt-popup",{staticStyle:{"margin-top":"50px"},attrs:{closeOnClickModal:"false",position:"top"},model:{value:t.popupVisible,callback:function(s){t.popupVisible=s},expression:"popupVisible"}},[i("div",{staticStyle:{"margin-top":"10px"}},[t._v("系统信息")]),t._v(" "),i("div",{staticStyle:{width:"300px","padding-top":"10px"}},[i("mt-cell",{attrs:{title:"系统名"}},[t._v(t._s(t.chosen.server_name))]),t._v(" "),i("mt-cell",{attrs:{title:"系统管理员"}},[t._v(t._s(t.chosen.server_owner))]),t._v(" "),i("mt-cell",{attrs:{title:"系统状态"}},[i("mt-switch",{model:{value:t.xx,callback:function(s){t.xx=s},expression:"xx"}})],1),t._v(" "),i("mt-field",{attrs:{label:"操作描述",placeholder:"请在此填写此次操作详情",type:"textarea",rows:"4"},model:{value:t.desc,callback:function(s){t.desc=s},expression:"desc"}}),t._v(" "),i("mt-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"normal",type:"primary"},on:{click:t.submit1}},[t._v("提交")]),t._v(" "),i("mt-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"normal",type:"default"},on:{click:t.hidden}},[t._v("取消")])],1)])],2)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"parentWrap"},[e("div",{staticClass:"parent",staticStyle:{"background-color":"lightgrey"}},[e("div",{staticClass:"child",staticStyle:{width:"15%"}},[t._v("状态")]),t._v(" "),e("div",{staticClass:"child",staticStyle:{width:"35%"}},[t._v("系统名称")]),t._v(" "),e("div",{staticClass:"child",staticStyle:{width:"15%"}},[t._v("地址")]),t._v(" "),e("div",{staticClass:"child",staticStyle:{width:"20%"}},[t._v("管理员")]),t._v(" "),e("div",{staticClass:"child",staticStyle:{width:"15%"}},[t._v("操作")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"child2",staticStyle:{width:"15%"}},[s("a",{staticStyle:{color:"white"},attrs:{href:"https://www.baidu.com"}},[this._v("链接")])])}]};var r=e("VU/8")(c,l,!1,function(t){e("VQyu")},null,null);s.default=r.exports}});
//# sourceMappingURL=0.77ad5a32d13dcb1bfc9e.js.map